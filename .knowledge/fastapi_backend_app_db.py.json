{"is_source_file": true, "format": "Python", "description": "This file defines database connection setup and utilities for a FastAPI web application using SQLAlchemy. It manages environment configuration, database engine creation, session management, and database initialization functions.", "external_files": [".env"], "external_methods": ["load_dotenv", "create_engine", "sessionmaker", "declarative_base"], "published": ["get_db", "db_session", "init_db"], "classes": [{"name": "Session", "description": "SQLAlchemy session class used for database interactions."}, {"name": "Engine", "description": "Represents the database engine connection."}, {"name": "Base", "description": "Declarative base class for SQLAlchemy ORM models."}], "methods": [{"name": "Generator[Session,None,None] get_db()", "description": "Provides a generator that yields a database session for request handling, ensuring proper cleanup after use.", "scope": "", "scopeKind": ""}, {"name": "Generator[Session,None,None] db_session()", "description": "Context manager for creating and managing a database session, including commit/rollback logic.", "scope": "", "scopeKind": ""}, {"name": "None init_db(models_module: Optional[object] = None)", "description": "Creates database tables based on the ORM models registered with Base; optionally imports models module.", "scope": "", "scopeKind": ""}], "calls": ["load_dotenv", "create_engine", "sessionmaker", "declarative_base", "Base.metadata.create_all", "SessionLocal()"], "search-terms": ["SQLAlchemy engine setup", "FastAPI database dependency", "session management", "database initialization", "environment variable DB_URL", "SQLite connect args"], "state": 2, "file_id": 18, "knowledge_revision": 41, "git_revision": "", "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DB_URL", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^DB_URL: str = os.getenv(\"DB_URL\", DEFAULT_SQLITE_URL).strip() or DEFAULT_SQLITE_URL$/", "language": "Python", "typeref": "typename:str", "kind": "variable"}, {"_type": "tag", "name": "DEFAULT_SQLITE_URL", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^DEFAULT_SQLITE_URL = \"sqlite:\\/\\/\\/.\\/app.db\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SessionLocal", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine, class_=Session, futu/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^    connect_args = {\"check_same_thread\": False}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^connect_args = {}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "db_session", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^def db_session() -> Generator[Session, None, None]:$/", "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "engine", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^engine: Engine = create_engine(DB_URL, connect_args=connect_args, future=True)$/", "language": "Python", "typeref": "typename:Engine", "kind": "variable"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^def get_db() -> Generator[Session, None, None]:$/", "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "init_db", "path": "/home/kavia/workspace/code-generation/ai-copilot-web-application-4336-4290/fastapi_backend/app/db.py", "pattern": "/^def init_db(models_module: Optional[object] = None) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(models_module: Optional[object] = None)"}], "hash": "86e9a6623c7de2cf0c3faa28b50b5c1f", "format-version": 4, "code-base-name": "react_js_frontend", "filename": "fastapi_backend/app/db.py", "fields": [{"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str DB_URL", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DEFAULT_SQLITE_URL = \"sqlite:\\/\\/\\/.\\/app.db\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine, class_=Session, futu/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "connect_args = {\"check_same_thread\": False}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "connect_args = {}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Engine engine", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"41": ""}]}